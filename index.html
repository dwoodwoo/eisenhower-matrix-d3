<html>
<head>
	<title>D3 tut</title>
	<script src="http://d3js.org/d3.v3.min.js"></script>
	<style>
	.domain { 
	  fill: none; 
	  stroke: black; 
	  stroke-width; 1; 
	} 
</style>
</head>
<body>

	<script>

// lesson 6 complete, experiment with y-axis
		var dataArray = [20, 40, 50, 60];

		var margin = {top: 50, right: 20, bottom: 50, left: 20};
		var mydomain = {xspan: 200, yspan: 200 };


		var width = 800 - margin.left - margin.right;
		var height = 800 - margin.top - margin.bottom;

		var xunittranslate = width/mydomain.xspan;
		var yunittranslate = height/mydomain.yspan;

		var widthScale = d3.scale.linear()
							.domain([-100, 100])
							.range([0, width]);

		var heightScale = d3.scale.linear()
							.domain([100, -100])
							.range([0, height]);



		// console.log("width 0 = " + widthScale(0));
		// console.log("width 10 = " + widthScale(10));
		// console.log("width 100 = " + widthScale(100));

		// console.log("height 0 = " + heightScale(0));
		// console.log("height 10 = " + heightScale(10));
		// console.log("height 20 = " + heightScale(20));
		// console.log("height 50 = " + heightScale(50));
		// console.log("height 100 = " + heightScale(100));
		// console.log("height 200 = " + heightScale(200));


		// console.log("height 0 = " + heightScale(0+100));
		// console.log("height 10 = " + heightScale((10+100)));
		// console.log("height 20 = " + heightScale(20+100));


		// var color = d3.scale.linear()
		// 				.domain([0, 60])
		// 				.range(["red", "blue"]);


		var xaxis = d3.svg.axis()
					.ticks(5)
					.scale(widthScale);

		var yaxis = d3.svg.axis()
					.ticks(5)
					.scale(heightScale);



		var canvas = d3.select("body")
					.append("svg")
					.attr("width", width + margin.left + margin.right)
					.attr("height", height + margin.top + margin.bottom)
					.append("g")
					.attr("transform", "translate(" + margin.left + ","+ margin.top +")");

		// var bars = canvas.selectAll("rect")
		// 			.data(dataArray)
		// 			.enter()
		// 				.append("rect")
		// 				.attr("width", function(d) {return widthScale(d); })
		// 				// d is data, i is index
		// 				// inherent to doing .enter() i believe
		// 				.attr("height", 50)
		// 				.attr("fill", function(d) {return color(d)})
		// 				.attr("y", function(d, i) {return i * 100});



		var circle = canvas.append("circle")
				// .attr("cx", function() {return widthScale(5); })
				// .attr("cy", function() {return heightScale(250); })
				// .attr("cx", 250)
				// .attr("cy", 250)
				.attr("cx", function() {return widthScale(-25); })
				.attr("cy", function() {return heightScale(-25); })
				.attr("r", 4);


		var circle2 = canvas.append("circle")
				// .attr("cx", function() {return widthScale(5); })
				// .attr("cy", function() {return heightScale(250); })
				.attr("cx", function() {return widthScale(25); })
				.attr("cy", function() {return heightScale(25); })
				.attr("r", 16);






		var rect1 = canvas.append("rect")
			.attr("width", function(){return 95*xunittranslate; } )
			.attr("height", function(){return 95*yunittranslate; } )
			.attr("fill", "grey")
			.attr("x", function(){return widthScale(5); })
			.attr("y", function(){return heightScale(100); });


		var text1 = canvas.append("text")
		   .html("Urgent, Important<br>Do First")
		   .attr("text-anchor", "middle")
		   .attr("x", function(){return widthScale(5+95/2); })
		   .attr("y", function(){return heightScale(5+95/2); })
		   .attr("font-family", "sans-serif")
		   .attr("font-size", "20px")
		   .attr("fill", "white");


		var rect2 = canvas.append("rect")
			.attr("width", function(){return 95*xunittranslate; } )
			.attr("height", function(){return 95*yunittranslate; } )
			.attr("fill", "grey")
			.attr("x", function(){return widthScale(5); })
			.attr("y", function(){return heightScale(-5); });

		var text2 = canvas.append("text")
		   .text("Urgent, Not Important")
		   .attr("text-anchor", "middle")
		   .attr("x", function(){return widthScale(5+95/2); })
		   .attr("y", function(){return heightScale(-5-95/2); })
		   .attr("font-family", "sans-serif")
		   .attr("font-size", "20px")
		   .attr("fill", "white");


		var rect3 = canvas.append("rect")
			.attr("width", function(){return 95*xunittranslate; } )
			.attr("height", function(){return 95*yunittranslate; } )
			.attr("fill", "grey")
			.attr("x", function(){return widthScale(-100); })
			.attr("y", function(){return heightScale(-5); });

		var text3 = canvas.append("text")
		   .text("Not Urgent, Not Important")
		   .attr("text-anchor", "middle")
		   .attr("x", function(){return widthScale(-100+95/2); })
		   .attr("y", function(){return heightScale(-5-95/2); })
		   .attr("font-family", "sans-serif")
		   .attr("font-size", "20px")
		   .attr("fill", "white");



		var rect4 = canvas.append("rect")
			.attr("width", function(){return 95*xunittranslate; } )
			.attr("height", function(){return 95*yunittranslate; } )
			.attr("fill", "grey")
			.attr("x", function(){return widthScale(-100); })
			.attr("y", function(){return heightScale(100); });



			
		canvas.append("g")
			.attr("transform", "translate(0,"+ height/2 +")")
			.call(xaxis);

		canvas.append("g")
			// .attr("transform", "rotate(90) translate(0, "+ -width/2 +")")
			.attr("transform", "rotate(90) translate(0, "+ -width/2 +")")
			.call(yaxis);

var foo = canvas.append("foreignObject")
	.attr({width: 200, height: 200})
	.append("xhtml:body")
	.append("xhtml:div")
	.style({width: 200 + 'px', 
        height: 200 + 'px', 
        "font-size": "16px",
        "color": "white",
        "background-color": "grey"
    })
    .html("<br>I can't believe I've been passed over for Long John Silver.<br>Now is the time for all good men to come to the aid of their country.");


		var text4 = canvas.append("text")
		   .text("Not Urgent, Important")
		   .attr("text-anchor", "middle")
		   .attr("x", function(){return widthScale(-100+95/2); })
		   .attr("y", function(){return heightScale(+5+95/2); })
		   .attr("font-family", "sans-serif")
		   .attr("font-size", "20px")
		   .attr("fill", "white");



	</script>


</body>
</html>